# Recite Helper (背诵助手) 使用说明

## 1. 注意事项

1. ❗本产品**可能不适合在移动端使用**。由于其重要的文件功能，建议使用**PC端**浏览器。
2. 本产品**不兼容**IE10以下的浏览器、部分不兼容IE11+、Safari和Opera浏览器。
3. ❗自己在本地写文件时，**一定要用UTF-8编码**！否则如果包含中文等字符会直接乱码！
4. 不要上传过大的文件。本产品在一定条件下会忠实地把你传上来的文件一行一行读完并存入内存中。在一定情况下会导致浏览器崩溃。
5. 频繁使用本产品可能会导致浏览器下载记录被这些文件挤满。（当然，如果你觉得无所谓，那也没关系）

## 2. 基础步骤（第一次使用必看）

1. 初始化背诵内容。点击上方导航栏五个按钮中第三个“设置任务”。
2. 接下来你有两种选择：
   - A. 准备文件
      1. 准备一个文件夹（或者直接用浏览器的下载目录，如果你愿意的话），写一个txt文本文件（详见“文件-写txt文件”专题）。
      2. 将你写好的一个或多个文件导入。（在文件资源管理器将文件拖动到橙色虚线框内，或点击此区域进行选择）
      3. 点击“确定导入”。
   - B. 在线编辑（详见“在线编辑”专题）
3. 点击右上角的“×”关闭任务设置
4. 如果需要的话，你可以在不处于背诵状态时点击“复习一下”，以复习你的问题内容（你也可以用它统计任务完成情况）。
5. 点击“开始背诵”。此时页面焦点会自动放到作答文本框内。此时你会进入**第一个背诵阶段：普遍测试**。你可以在页面最上方看到它。最上方的左侧是背诵的标题，默认为“背诵”，或是你导入第一个文件的文件名。它会影响你的存档的文件名，是可以直接编辑的。
6. 作答框上方的暗黄色字体是背诵此题的问题。你应该尽量回答得接近标答。
7. 你可以直接点击“提交”按钮，或是按下`Tab`键将焦点转移到提交按钮后按`Enter`或空格`Space`键。
8. 接下来“结果”界面会展示出来。同时，会显示算法给出的相似度（详见“相似度”专题）。页面焦点会自动转移到“评分”输入框。你可以对它随意修改，如果满意，你可以直接点击“下一题”按钮（或者同样地，使用`Tab`+`Enter`/`Space`），跳转到下一题。
9. 每一轮结束后，轮数都会+1，并且**过滤已经通过的题目**。
10. 第5-9步的循环将是一段很长的时间。当你全部都通过一遍后，你应当对所有题目都比较熟悉了。接下来是**第二个背诵阶段：统一考核**。同样地，它会在最上方偏右的提示里出现。这时像第5-9步一样继续答题，其中，第5、6、7、9步**不变**。
11. 不同之处就在结果这里。你会发现，原先的评分变成了通过或者不通过的按钮。如果你对最后的相似度结果满意，你可以选择“通过”；反之，如果你想再练习，可以选择“不通过”。然后同样地点击“下一题”。
12. 这又是不短的一段时间。当你完成了统一考核后，右上角就会出现“已全部完成！”。
13. 接下来，你又有几种选择。
    - A. 直接关闭网页。在此之前，如果你想保存这次背诵内容方便之后使用，而且你当时用的是在线编辑或是中途进行过修改的话，你可以选择“任务设置”中的“导出为txt文件”，移至你的文件夹。
    - B. 继续下一个。同样点击“人物设置”，先点击“清空进度”，然后再重复第1-12步。
    - C. 探索一下新功能

## 3. 专题：其他功能

本段内容会以几个可能的常见问题进行介绍。

1. Q: 我想去复习，它却提示“请先完成或中止当前题目的背诵，再点击复习按钮。”；我想去设置任务，但它却说“请先暂停背诵（答完当前题目或强行中止），再设置任务。”，怎么办？
   A: 你可以选择答完当前的题目。注意，如果你有别的事要干，结果界面的“下一题”就别点太快。你也可以选择点击“中止”按钮（它在“提交”按钮的左侧），程序就会允许你去复习或是设置任务。

2. Q: 我发现我的问题打错了，怎么修改？
   A: 你可以使用在线编辑功能（见“在线编辑”专题），在此之前先中止背诵。但是，你也会在此时看到题目的标答，建议先答完此题后再处理。

3. Q: 那我的标答打错了怎么办？
   A: 注意，由于程序的设计逻辑，先按照你的想法评分，点击“下一题”后立即中止背诵（**不要省略这一步直接点击“设置任务”**，这会使你此次的回答作废，你必须重新作答）。**记住，不论是评分默认值还是是否通过默认值，都是可以更改的。最终做主的是你，灵活一点，按照自己的想法标准判断。**

4. Q: 你好像没有讲“常规设置”里的东西。它们是什么意思？
   A: 这是一个好问题。它们能够辅助调节算法和标准，让背诵更加灵活。详见专题“常规设置”。

## 4. 专题：文件

### 4.1 写txt文件

1. 格式概括：**第一个换行分问答，连续两个换行分问题。**
2. 解释：在两个问题之间，你应该使用**连续两个换行**（或：**一个空行**）分隔。而在一个问题中，包含问、答两个基本元素。本程序的机制是识别每个问题中**第一个换行符**，前面是问题，后面是标答。是的，这样一来，使用txt文件存储只能问题只能是一行的。这是它的局限性之一。
3. 示例：
```text
九九___
八十一

common有哪些意思？
adj. 共同的；常见的；普通的
n. 公地，平民

但愿人长久，___
千里共婵娟
```
4. （再次强调）记得保存/另存为**utf-8**编码

### 4.2 导出文件

1. txt文件：它不能保存进度。如果你使用它保存，下一次导入的时候就得从头开始。这是它的缺点，也是它的优点。如果下一次你还要接着这一次的进度用，那么建议你使用rhp文件；但如果这只是备着以后重新再背，那txt就是你的不二之选。同时，它还有一个缺点上面讲过了，问题只能存一行。如果你在中途进行了编辑，那么这个存档就不是你想要的了。
2. rhp(Recite Helper Progress)文件：它是存档文件，重点是保存进度。下一次导入的时候，就相当于接着这一次继续。它可以保存多行的问题。如果你要解决txt文件的这一问题，又不想保存进度的话，你可以导入后立即导出。

### *4.3 写rhp文件

不建议这么干。我这里只是简单地介绍一下rhp文件规范。
第一行是版本标准声明。由v+空格+一个正整数构成。当前使用的是v3标准。
接下来，（至少）每四行作为一个单元，单独的一行e表示一个模块的结束。前面每一行都由“关键字符+空格+内容”组成。关键字符中，q表示声明问题(question)，a表示声明标答(correct answer)，"-"（减号）表示问题或标答换行，o表示声明进度数据(option)。注意，这些都只是为了语义化，不能颠倒顺序。即，每一个单元都由“q(-)+c(-)+o+e”构成。
接下来解释一下o。o后面跟着三个整数，以空格分隔。第一个整数表示问题普遍测试积分，第二个整数表示统一考核是否通过（1过/0未过），第三个整数表示已经回答的次数。这里给一个示例。
```
v 3
q 错误地
c by mistake
o 10 0 2
e 
q 难于做某事(2种)
c have trouble (in) doing sth. = have difficulty (in) doing sth.
o 15 1 1
e 
q 社会意识
c the realization of the society
o 5 0 1
e 
```

## 5. 专题：在线编辑

1. “编辑”操作：按下后，会出现“完成”和“删除”两个按钮。此时，你可以自由更改问题和标答，点击“完成”提交；或是将此问题删除。
2. “新增问题”：在最下方，按下后，会新增一个问题，其中“问题”和“标答”需要自行修改。点击“编辑”按钮即可。
3. 如果还想用，建议导出存档。

## 6. 专题：相似度

1. 在“结果”界面中，你可以看到相似度右边有一个三角形展开按钮。点击后即可看到详细信息。
2. 其中，“宽松比较”比较的是**公共字符数**，然后再除以作答和标答中的较大长度即为相似度。
3. “严格比较”运用了**编辑距离**算法。具体可以自行搜索。设（最小）编辑距离为D，作答和标答中的较大长度为M，则相似度为`1-D/M`。由于种种原因，它一定小于“宽松比较”的相似度。
4. 注意：**以上两种都只是针对字符的比较，不涉及整个单词或是语义相似度，最终评分主要还是自行判断。**
5. 综合相似度（即最终呈现的数值）还受到“相似度算法偏好的影响”，详见专题“常规设置”。

## 7. 专题：常规设置

注意：常规设置中修改，数据实时更新，如果数据输入非法，则会相应改为默认值（从上到下依次为15/60/5）。同时，这三个值还会存档到本地，无需每次更改。

### 7.1 普遍测试所需分数

这是一个正整数，最小值为1，默认值为15，建议范围为5~30。这可能比较抽象，但你只要记住，你一题全对最多加10分，全错最多扣10分，而且最终都还要进行统一考核。你对自己要求越高，内容越重要，建议设置越大。

### 7.2 期望正确率

这是一个正整数，最小值为1，最大值为99，默认值为60，建议范围为50~95.它仅做辅助算法使用。涉及的算法为：设期望正确率为E，实际正确率为C（均为百分制，0-100），推荐分数为R，则：当 C&le;2E-100 时，R=-10；当 2E-100&lt;C&lt;E 时，R=-10(C-(2E-100))/(E-(2E-100))；当 C=E 时，R=0；当 E&lt;C&lt;100 时，R=10(C-E)/(100-C)；当 C=100时，R=10。在统一考核中，若C&lt;E，则推荐不通过；若C&ge;99.5，则推荐通过；否则不予推荐，自行决断。

简单理解就是：算法中，达到这个以上，才能加分，否则就减分。

### 7.3 相似度算法偏好

与上面两个不同，这个用滑块调整大小。这是一个整数，最小值为0，最大值为10，默认值为5。在计算总相似度时，越小越趋向于宽松算法，越大越趋向于严格算法。设相似度算法偏好为P，则将宽松相似度与严格相似度按照权值分别为(10-P)和P计算加权平均数，即为最终的总相似度。

它的影响其实不大，实用方面，两者重点是对于顺序的要求不同。宽松算法不考虑字符顺序，严格算法考虑。同时，如果乱答一气，严格算法的相似度普遍也会更低。总之就是：强调字与字之间的顺序，往大了选；反之，往小了选。

但要注意一点，两者对于单词拼写错误都极为宽松，因为它们都是按照字符匹配的。